<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Admin Yupita Shop</title>
    <link rel="stylesheet" href="assets/css/styleloginadmin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="particles-container" id="particles-js"></div>

    <div class="admin-login-container">
        <div class="admin-login-box animate__animated animate__fadeIn">
            <div class="admin-login-header">
                <div class="logo-container">
                    <div class="logo-circle">
                        <i class="fas fa-user-shield logo-icon"></i>
                    </div>
                </div>
                <h2>Admin Panel</h2>
                <p>Yupita Shop Management System</p>
            </div>

            <div id="adminLoginError" class="error-message"></div>

            <form id="adminLoginForm" class="login-form">
                <div class="form-group floating-label">
                    <input type="text" id="adminUsername" required placeholder=" ">
                    <label for="adminUsername">Username Admin</label>
                    <i class="fas fa-user input-icon"></i>
                </div>

                <div class="form-group floating-label">
                    <input type="password" id="adminPassword" required placeholder=" ">
                    <label for="adminPassword">Password Admin</label>
                    <i class="fas fa-lock input-icon"></i>
                    <button type="button" class="toggle-password" aria-label="Show password">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>

                <div class="form-actions">
                    <button type="submit" class="login-btn">
                        <span class="btn-text">Login</span>
                        <i class="fas fa-arrow-right btn-icon"></i>
                    </button>
                </div>
            </form>

            <div class="admin-login-footer">
                <p>Hanya untuk staff administrasi Yupita Shop</p>
                <a href="index.html" class="back-to-store">
                    <i class="fa-solid fa-user-large"></i> Login ke Toko
                </a>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // Inisialisasi particles.js
        document.addEventListener('DOMContentLoaded', function () {
            particlesJS('particles-js', {
                particles: {
                    number: { value: 80, density: { enable: true, value_area: 800 } },
                    color: { value: "#ffffff" },
                    shape: { type: "circle" },
                    opacity: { value: 0.5, random: true },
                    size: { value: 3, random: true },
                    line_linked: { enable: true, distance: 150, color: "#ffffff", opacity: 0.4, width: 1 },
                    move: { enable: true, speed: 2, direction: "none", random: true, straight: false, out_mode: "out" }
                },
                interactivity: {
                    detect_on: "canvas",
                    events: {
                        onhover: { enable: true, mode: "repulse" },
                        onclick: { enable: true, mode: "push" }
                    }
                }
            });

            // Toggle password visibility
            const togglePassword = document.querySelector('.toggle-password');
            const passwordInput = document.getElementById('adminPassword');

            togglePassword.addEventListener('click', function () {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                this.querySelector('i').classList.toggle('fa-eye-slash');
                this.querySelector('i').classList.toggle('fa-eye');
            });

            // Floating label effect
            document.querySelectorAll('.floating-label input').forEach(input => {
                input.addEventListener('focus', () => {
                    input.parentNode.classList.add('focused');
                });

                input.addEventListener('blur', () => {
                    if (!input.value) {
                        input.parentNode.classList.remove('focused');
                    }
                });

                // Initialize on page load
                if (input.value) {
                    input.parentNode.classList.add('focused');
                }
            });

            // Daftar admin yang diizinkan (untuk demo saja)
            const adminAccounts = [
                { username: "Vallzen", password: "23010039" },
                { username: "Nata", password: "23010029" }
            ];

            // Handle form login
            document.getElementById('adminLoginForm').addEventListener('submit', function (e) {
                e.preventDefault();

                const username = document.getElementById('adminUsername').value.trim();
                const password = document.getElementById('adminPassword').value;
                const errorElement = document.getElementById('adminLoginError');
                const loginBtn = document.querySelector('.login-btn');

                // Reset error
                errorElement.textContent = '';
                errorElement.style.display = 'none';

                // Validasi
                if (!username || !password) {
                    showError('Username dan password harus diisi!');
                    return;
                }

                // Animasi loading
                loginBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                loginBtn.disabled = true;

                // Simulasi request ke server
                setTimeout(() => {
                    // Cek kredensial admin
                    const admin = adminAccounts.find(acc =>
                        acc.username === username && acc.password === password
                    );

                    if (admin) {
                        // Simpan session admin (sementara)
                        sessionStorage.setItem('adminAuthenticated', 'true');
                        sessionStorage.setItem('adminUsername', username);

                        // Animasi sukses
                        loginBtn.innerHTML = '<i class="fas fa-check"></i>';
                        loginBtn.classList.add('success');

                        // Redirect ke halaman admin
                        setTimeout(() => {
                            window.location.href = 'kelolauser.html';
                        }, 800);
                    } else {
                        showError('Username atau password admin salah!');
                        loginBtn.innerHTML = '<span class="btn-text">Login</span><i class="fas fa-arrow-right btn-icon"></i>';
                        loginBtn.disabled = false;
                    }
                }, 1000);
            });

            function showError(message) {
                const errorElement = document.getElementById('adminLoginError');
                errorElement.textContent = message;
                errorElement.style.display = 'block';
                errorElement.classList.add('animate__animated', 'animate__headShake');

                setTimeout(() => {
                    errorElement.classList.remove('animate__animated', 'animate__headShake');
                }, 1000);
            }
        });
    </script>
</body>

</html>